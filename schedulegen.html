<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rundown Acara ‚Äî Dejede</title>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<nav class="navbar">
    <a href="index.html" class="logo">DEJEDE</a>
    <div class="nav-links">
            <a href="index.html">Portofolio</a>
            <a href="weddinggen.html">Weddinggen</a>
            <a href="schedulegen.html">Schedulegen</a>
            <a href="about.html">About</a>
    </div>
</nav>

<div class="container">
  <h1>Generator Rundown</h1>

  <div class="card">
    <div class="grid-form">
      <div>
        <label>Jenis Acara</label>
        <select id="jenisAcara">
          <option value="Pernikahan">Pernikahan</option>
          <option value="Pertunangan">Pertunangan</option>
          <option value="Syukuran">Syukuran</option>
          <option value="Lainnya">Lainnya</option>
        </select>
      </div>
      <div>
        <label>Nama Klient</label>
        <input id="pengantin" type="text" placeholder="Adi & Nina">
      </div>
      <div>
        <label>Instagram Klient</label>
        <input id="igSubject" type="text" placeholder="@id_instagram">
      </div>
    </div>

    <div class="grid-form">
      <div>
        <label>Tanggal Acara</label>
        <input id="tanggal" type="date">
      </div>
      <div>
        <label>Lokasi Utama</label>
        <input id="lokasi" type="text" placeholder="Gedung / Rumah">
      </div>
    </div>

    <label>Susunan Acara (Klik teks untuk edit)</label>
    <div class="table-container">
      <table id="rundownTable">
        <thead>
          <tr>
            <th style="width: 25%;">Waktu</th>
            <th>Kegiatan</th>
            <th style="width: 50px;">Aksi</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td contenteditable="true">08.00 WIB</td>
            <td contenteditable="true">Akad Nikah / Pemberkatan</td>
            <td><button class="btn-del" onclick="deleteRow(this)">√ó</button></td>
          </tr>
          <tr>
            <td contenteditable="true">13.00 WIB</td>
            <td contenteditable="true">Temu Manten / Resepsi</td>
            <td><button class="btn-del" onclick="deleteRow(this)">√ó</button></td>
          </tr>
        </tbody>
      </table>
      <button class="btn btn-alt" style="padding: 8px; font-size: 12px; margin-top: 10px;" onclick="addRow()">+ Tambah Kegiatan</button>
    </div>

    <div class="vendor-section">
      <div class="vendor-row" id="v_decor"><div class="v-label">DEKORASI</div><div class="v-options"></div></div>
      <div class="vendor-row" id="v_mua"><div class="v-label">MUA</div><div class="v-options"></div></div>
      <div class="vendor-row" id="v_henna"><div class="v-label">HENNA</div><div class="v-options"></div></div>
      <div class="vendor-row" id="v_hairdo"><div class="v-label">HAIRDO</div><div class="v-options"></div></div>
      <div class="vendor-row" id="v_mc"><div class="v-label">MC</div><div class="v-options"></div></div>
    </div>

    <div class="actions">
      <button class="btn" onclick="generate()">Preview Rundown</button>
      <button class="btn btn-alt" onclick="downloadJPEG()">Save JPG</button>
      <button class="btn btn-alt" onclick="downloadTXT()">Copy Text</button>
    </div>

    <div id="previewArea" class="preview-card">
        <div style="text-align: center; color: #7f8c8d; padding: 20px;">Hasil pratinjau rundown akan muncul di sini...</div>
    </div>
  </div>
</div>

<footer>
    Dejede Photography & Videography ‚Ä¢ Lumajang ‚Ä¢ 085236578999
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script>
  const vendorData = {
    decor: ["@brontosenorusticdecoration", "@nafcraft_decoration", "@riidwan_ak"],
    mua: ["@qinabride", "@beauty_yoja", "@marchel_makeup", "@afrilia.istiaris", "@rimba_salon", "@salonndewi"],
    henna: ["@sisilliamonica", "@zeera_amoora"],
    hairdo: ["@mawarmua_hairdo", "@fairusbey"],
    mc: ["@prena.prena.3591", "@ramafadholi.official", "@radensyahroni"]
  };

  function initVendors() {
    const categories = ['decor', 'mua', 'henna', 'hairdo', 'mc'];
    categories.forEach(cat => {
        const container = document.querySelector(`#v_${cat} .v-options`);
        vendorData[cat].forEach(name => {
            const item = document.createElement('div');
            item.className = 'v-item';
            item.innerHTML = `<input type="checkbox" value="${name}"> ${name}`;
            item.onclick = function(e) {
                const cb = this.querySelector('input');
                if(e.target !== cb) cb.checked = !cb.checked;
                this.classList.toggle('active', cb.checked);
            };
            container.appendChild(item);
        });
    });
  }

  function addRow() {
    const tbody = document.querySelector('#rundownTable tbody');
    const row = document.createElement('tr');
    row.innerHTML = `
      <td contenteditable="true">--.-- WIB</td>
      <td contenteditable="true">Nama Kegiatan</td>
      <td><button class="btn-del" onclick="deleteRow(this)">√ó</button></td>
    `;
    tbody.appendChild(row);
  }

  function deleteRow(btn) { btn.closest('tr').remove(); }

  function getSelected(containerId) {
    return Array.from(document.querySelectorAll(`#${containerId} input:checked`))
      .map(cb => cb.value).join(', ') || '-';
  }

  function generate() {
    const jenis = document.getElementById('jenisAcara').value;
    const nama = document.getElementById('pengantin').value || 'Subject';
    const ig = document.getElementById('igSubject').value;
    const tgl = document.getElementById('tanggal').value || '-';
    const loc = document.getElementById('lokasi').value || '-';
    
    let rundown = "";
    document.querySelectorAll('#rundownTable tbody tr').forEach(tr => {
      const tds = tr.querySelectorAll('td');
      if(tds.length >= 2) {
        rundown += `${tds[0].innerText} : ${tds[1].innerText}\n`;
      }
    });

    const html = `
      <h2>RUNDOWN ACARA ${jenis.toUpperCase()}</h2>
      <div class="preview-meta">
        <b style="font-size: 16px; color:white;">${nama.toUpperCase()}</b>
        ${ig ? `<br>üì∏ ${ig}` : ''}<br>
        üìÖ ${tgl} | üìç ${loc}
      </div>
      <div style="white-space: pre-wrap; margin: 15px 0;">${rundown}</div>
      <div class="preview-vendor">
        <b>OFFICIAL VENDOR:</b><br>
        Dekor: ${getSelected('v_decor')}<br>
        MUA: ${getSelected('v_mua')}<br>
        Henna: ${getSelected('v_henna')}<br>
        Hairdo: ${getSelected('v_hairdo')}<br>
        MC: ${getSelected('v_mc')}
      </div>
    `;
    document.getElementById('previewArea').innerHTML = html;
  }

  function downloadJPEG() {
    const area = document.getElementById('previewArea');
    html2canvas(area, { backgroundColor: '#2f3e3a', scale: 2 }).then(canvas => {
      const link = document.createElement('a');
      link.download = `rundown-${document.getElementById('pengantin').value || 'dejede'}.jpg`;
      link.href = canvas.toDataURL('image/jpeg', 0.9);
      link.click();
    });
  }

  function downloadTXT() {
    const text = document.getElementById('previewArea').innerText;
    navigator.clipboard.writeText(text).then(() => alert('Teks Rundown berhasil disalin!'));
  }

  initVendors();
</script>

</body>
</html>


